function initnavbar(){document.querySelectorAll(".navbar-toggler").forEach((e=>{e.addEventListener("click",(t=>toggle_navbar(e.dataset.target)))}))}function toggle_navbar(e){document.querySelectorAll(e).forEach((e=>{e.classList.contains("opened")?(slideup_element(e),e.classList.remove("opened")):(e.classList.add("opened"),slidedown_element(e))}))}function slidedown_element(e){e.animate([{height:"0px"},{height:`${e.offsetHeight}px`}],{easing:"ease",duration:300})}function slideup_element(e){e.animate([{height:`${e.offsetHeight}px`},{height:"0px"}],{easing:"ease",duration:300})}function initmodal(){document.querySelectorAll(".btn,.close,.modal").forEach((e=>{e.classList.contains("modal")&&e.addEventListener("click",(t=>{t.target==e&&close_modal()})),"modal"==e.dataset.toggle&&e.addEventListener("click",(t=>open_modal(e.dataset.target))),"modal"==e.dataset.dismiss&&e.addEventListener("click",close_modal)}))}function open_modal(e){document.querySelectorAll(e).forEach((e=>{e.classList.add("showing"),document.body.classList.add("modal-open"),document.addEventListener("keyup",close_modal_esc)}))}function close_modal_esc(e){"Escape"==e.key&&close_modal()}function close_modal(){document.querySelectorAll(".modal").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("keyup",close_modal_esc),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"),document.body.classList.remove("modal-open"))})))}))}function initpopup(){document.querySelectorAll(".btn,a").forEach((e=>{"popup"==e.dataset.toggle&&e.addEventListener("click",(t=>open_popup(e,e.dataset.target)))}))}function open_popup(e,t){document.querySelectorAll(t).forEach((t=>{t.classList.contains("showing")||(t.classList.add("showing"),t.setAttribute("style",`left: ${e.offsetLeft=e.offsetWidth} ;top: ${e.offsetTop+e.offsetHeight+10}`),t.addEventListener("animationend",addPopDismiss))}))}function addPopDismiss(){document.addEventListener("click",close_popup_trigger),document.querySelectorAll(".popup").forEach((e=>{removePopupListener(e)}))}function removePopupListener(e){e.removeEventListener("animationend",addPopDismiss)}function close_popup_trigger(e){document.querySelectorAll(".popup").forEach((t=>{e.target!=t&&close_popup()}))}function close_popup(){document.querySelectorAll(".popup").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("click",close_popup_trigger),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"))})))}))}window.onload=()=>{initnavbar(),initmodal(),initpopup()};
