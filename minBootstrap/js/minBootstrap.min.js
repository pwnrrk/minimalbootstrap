function initnavbar(){document.querySelectorAll(".navbar-toggler").forEach((e=>{e.addEventListener("click",(o=>open_navbar(e.dataset.target)))}))}function initmodal(){document.querySelectorAll(".btn,.close,.modal").forEach((e=>{e.classList.contains("modal")&&e.addEventListener("click",(o=>{o.target==e&&close_modal()})),"modal"==e.dataset.toggle&&e.addEventListener("click",(o=>open_modal(e.dataset.target))),"modal"==e.dataset.dismiss&&e.addEventListener("click",close_modal)}))}function open_modal(e){document.querySelectorAll(e).forEach((e=>{e.classList.add("showing"),document.body.classList.add("modal-open"),document.addEventListener("keyup",close_modal_esc)}))}function close_modal_esc(e){"Escape"==e.key&&close_modal()}function close_modal(){document.querySelectorAll(".modal").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("keyup",close_modal_esc),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"),document.body.classList.remove("modal-open"))})))}))}function open_navbar(e){document.querySelectorAll(e).forEach((e=>{e.classList.contains("opened")?e.classList.remove("opened"):e.classList.add("opened")}))}function initpopup(){document.querySelectorAll(".btn,a").forEach((e=>{"popup"==e.dataset.toggle&&e.addEventListener("click",(o=>open_popup(e,e.dataset.target)))}))}function open_popup(e,o){document.querySelectorAll(o).forEach((o=>{o.classList.contains("showing")||(o.classList.add("showing"),o.setAttribute("style",`left: ${e.offsetLeft=e.offsetWidth} ;top: ${e.offsetTop+e.offsetHeight+10}`),o.addEventListener("animationend",addPopDismiss))}))}function addPopDismiss(){document.addEventListener("click",close_popup_trigger),document.querySelectorAll(".popup").forEach((e=>{removePopupListener(e)}))}function removePopupListener(e){e.removeEventListener("animationend",addPopDismiss)}function close_popup_trigger(e){document.querySelectorAll(".popup").forEach((o=>{e.target!=o&&close_popup()}))}function close_popup(){document.querySelectorAll(".popup").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("click",close_popup_trigger),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"))})))}))}window.onload=()=>{initnavbar(),initmodal(),initpopup()};
