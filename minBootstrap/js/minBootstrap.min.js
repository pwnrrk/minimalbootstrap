function initnavbar(){document.querySelectorAll(".navbar-toggler").forEach((e=>{e.addEventListener("click",(t=>toggleCollapse(e.dataset.target)))}))}function toggleCollapse(e){document.querySelectorAll(e).forEach((e=>{if(e.classList.contains("opened")){function t(){e.classList.contains("opened")&&e.classList.remove("opened"),e.removeEventListener("animationend",t),e.removeEventListener("webkitAnimationEnd",t)}slideUpElement(e),e.addEventListener("animationend",t),e.addEventListener("webkitAnimationEnd",t)}else e.classList.add("opened"),slideDownElement(e)}))}function initCollapse(){document.querySelectorAll("a,.btn").forEach((e=>{"collapse"==e.dataset.toggle&&e.addEventListener("click",(t=>toggleCollapse(e.dataset.target)))}))}function initAnimateSlideStyle(){let e=document.createElement("style");e.id="mb-slide-elm",document.querySelectorAll("head").forEach((t=>{t.append(e)}))}function slideDownElement(e){document.querySelectorAll("#mb-slide-elm").forEach((t=>{t.innerHTML=`\n        @keyframes slide-elm-down {\n            from{\n                max-height: 0px;   \n            }\n            to{\n                max-height: ${e.offsetHeight}px;\n            }\n        }\n        `})),e.setAttribute("style","animation: slide-elm-down .3s ease;will-change:height;"),e.addEventListener("animationend",(()=>{e.removeAttribute("style")}))}function slideUpElement(e){document.querySelectorAll("#mb-slide-elm").forEach((t=>{t.innerHTML=`\n        @keyframes slide-elm-up {\n            from{\n                max-height: ${e.offsetHeight}px;\n            }\n            to{\n                max-height: 0px;\n            }\n        }\n        `})),e.setAttribute("style","animation: slide-elm-up .3s ease;"),e.addEventListener("animationend",(()=>{e.removeAttribute("style")}))}function initmodal(){document.querySelectorAll(".btn,.close,.modal").forEach((e=>{e.classList.contains("modal")&&e.addEventListener("click",(t=>{t.target==e&&closeModal()})),"modal"==e.dataset.toggle&&e.addEventListener("click",(t=>openModal(e.dataset.target))),"modal"==e.dataset.dismiss&&e.addEventListener("click",closeModal)}))}function openModal(e){document.querySelectorAll(e).forEach((e=>{e.classList.add("showing"),document.body.classList.add("modal-open"),document.addEventListener("keyup",closeModalEsc)}))}function closeModalEsc(e){"Escape"==e.key&&closeModal()}function closeModal(){document.querySelectorAll(".modal").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("keyup",closeModalEsc),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"),document.body.classList.remove("modal-open"))})))}))}function initpopup(){document.querySelectorAll(".btn,a").forEach((e=>{"popup"==e.dataset.toggle&&e.addEventListener("click",(t=>openPopup(e,e.dataset.target)))}))}function openPopup(e,t){closePopup(),document.querySelectorAll(t).forEach((t=>{t.classList.contains("showing")||(t.classList.add("showing"),t.classList.contains("dash-right")?t.setAttribute("style",`left: ${e.offsetLeft+e.offsetWidth} ;top: ${e.offsetTop}`):t.setAttribute("style",`left: ${e.offsetLeft} ;top: ${e.offsetTop+e.offsetHeight+10}`),t.addEventListener("animationend",addPopDismiss))}))}function addPopDismiss(){document.addEventListener("click",closePopupTrigger),document.querySelectorAll(".popup").forEach((e=>{removePopupListener(e)}))}function removePopupListener(e){e.removeEventListener("animationend",addPopDismiss)}function closePopupTrigger(e){document.querySelectorAll(".popup").forEach((t=>{e.target!=t&&t.classList.contains("showing")&&closePopup()}))}function closePopup(){document.querySelectorAll(".popup").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("click",closePopupTrigger),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"))})))}))}window.onload=()=>{initnavbar(),initmodal(),initpopup(),initAnimateSlideStyle(),initCollapse()};
